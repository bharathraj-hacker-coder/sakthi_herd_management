{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'style/navpg.css' %}">
    <link rel="stylesheet" href="{% static 'style/menu.css' %}">
    <title>{{ breed|safe }} Details</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Navbar -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="">
</head>

<body>

    <h1>{{ breed|safe }} Details Page</h1>
    <div class="menu_buttons">
        <a href="{% url 'cowcalfandbullcalfprofile' %}?tag_no={{ tag_no|safe }}" style=" text-decoration: none;" ><button class="buttons"
        style="display: block;
            width: 110%;
            height: 50%;
            border: none;
            background-color: green;
            color: white;
            padding-right: 35px;
padding-left: 35px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;" >{{ breed|safe }} Profile</button></a>
        <a href="#"style=" text-decoration: none;"><button class="buttons" style="
        display: block;
            width: 110;
            height: 50%;
            border: none;
            background-color: gray;
            color: white;
            padding-right: 35px;
padding-left: 35px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;" >Milk Report</button></a>
    </div>
        <div class="menu_buttons">
        <a href="{% url 'treatementdetails' %}?tag_no={{ tag_no|safe }}" style=" text-decoration: none;"><button class="buttons" style="
        display: flex;
        flex-direction: column;
            width: 110%;
            display: block;
            border: none;
            background-color: green;
            color: white;
            padding-right: 40px;
padding-left: 40px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;" >Treatment</button></a>
        <a href="{% url 'cowcalfandbullcalfedit' %}?tag_no={{ tag_no|safe }}" style=" text-decoration: none;"><button class="buttons" style="
        display: block;
            width: 110%;
           display: block;
            border: none;
            background-color: rgb(183, 213, 183);
            color: white;
padding-right: 55px;
padding-left: 55px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;" >Edit</button></a>
    </div>
    <br><br>
    <div class="main_container">
        <body>
            <div class="navbar">
                <h1>{{breedname|safe}} Edit page</h1>
            </div>
            
            <div class="main_container">
                <!-- COW NAME -->
                <label for="fname"> Name:</label><br>
                <input type="text" id="cname" value="{{ name|safe }}" name="cname" class="in_text"><br>

                <!-- TAG NO -->
                <label for="fname"> Tag Number:</label><br>
                <input type="text" id="tagnum" value="{{ tag_no|safe }}" name="fname" class="in_text">

                <label for="Breed"> Breed:</label>
                <span id="breedname">{{breedname|safe}}</span><br><br>

                <!-- SEX -->
                <label for="Sex"> Sex:</label>
                <span id="sex">{{ sex|safe }}</span><br><br>

                <!-- Date of birth -->
                <label for="Date">Date Of Birth:</label><br>
                <input type="date" id="dateofbirth" value="{{ dob|safe }}" name="Date" class="in_text">
        
                <!-- Sire Name -->
                <label for="fname"> Sire Name:</label><br>
                <input type="text" id="sirename" value="{{ sirename|safe }}" name="fname" class="in_text">

                <!-- Dam Name -->
                <label for="fname"> Dam Name:</label><br>
                <input type="text" id="damname" name="fname" value="{{ damname|safe }}" class="in_text">
                <span style="font-weight: 300;">FEED DETAILS</span><br><br>

              <!-- name of Concentrate -->
              <label for="fname"> Name of Concentrate :</label><br>
              <input type="text" id="nameofcomp1" value="{{ con1|safe }}" name="fname" class="in_text">

              <!-- Quantity -->
              <label for="fname"> Quantity :</label><br>
              <input type="text" id="quuantity1" value={{ quan1|safe }} name="fname" class="in_text">

                <!-- name of Concentrate -->
                <label for="fname"> Name of Concentrate :</label><br>
                <input type="text" id="nameofcomp2" value="{{ con2|safe }}" name="fname" class="in_text">

                <!-- Quantity -->
                <label for="fname"> Quantity :</label><br>
                <input type="text" id="quuantity2" value={{ quan2|safe }} name="fname" class="in_text">
          
                <button type="button" onclick="save()" class="bt_add">Save</button>
                <button type="button" onclick="deleteme()" class="bt_add" style="margin-left: 45%;">Delete</button>
            </div>
        </body>
    </div>

<body class="preload">
    <!-- Navbar -->
    <header class="header">
        <button class="header__button" id="btnNav" type="button">
      <i class="material-icons">menu</i>
  </button>
    </header>
    <div id="menu">
        <div>
            <div class="nav">
                <div class="nav__links">
                    <a href="{% url 'home' %}" class="nav__link">
                            <i class="material-icons">home</i> Home Page
                        </a>
                        <a href="{% url 'milk_data_entry' %}" class="nav__link">
                            <i class="material-icons">border_color</i> Milk Data Entry
                        </a>
                        <a class="nav__link" href="{% url 'milk_data_overall_report' %}">
                            <i class="material-icons">poll</i> Milk Report
                        </a>
                        <a class="nav__link" href="{% url 'insemination_entry' %}">
                            <i class="material-icons">chalet</i> Insemination Entry
                        </a>
                        <a class="nav__link" href="{% url 'calving_entry' %}">
                            <i class="material-icons">pets</i> Calving Entry
                        </a>
                        <a class="nav__link" href="{% url 'breeding_report' %}">
                            <i class="material-icons">transgender</i> Breeding Report
                        </a>
                        <a class="nav__link" href="{% url 'treatment_entry' %}">
                            <i class="material-icons">health_and_safety</i> Treatment Entry
                        </a>
                        <a class="nav__link" href="{% url 'vaccination_entry' %}">
                            <i class="material-icons">sports_cricket</i> Vaccination Entry
                        </a>
                        <a class="nav__link" href="{% url 'deworming_entry' %}">
                            <i class="material-icons">trip_origin</i> Deworming Entry
                        </a>
                        <a class="nav__link" href="{% url 'logout' %}">
                            <i class="material-icons">logout</i> Logout
                        </a>
                </div>
                <div class="nav__overlay"></div>
            </div>
        </div>
    </div>
</body>
    <script>
        window.addEventListener("load", () => {
            document.body.classList.remove("preload");
        });

        document.addEventListener("DOMContentLoaded", () => {
            const nav = document.querySelector(".nav");

            document.querySelector("#btnNav").addEventListener("click", () => {
                nav.classList.add("nav--open");
            });

            document.querySelector(".nav__overlay").addEventListener("click", () => {
                nav.classList.remove("nav--open");
            });
        });

    function save() {
        var ccbe_entry = new FormData();
        ccbe_entry.append('cedit_data_from', 'save');
        ccbe_entry.append('ccbe_cname', $('#cname').val());
        ccbe_entry.append('ccbe_tagnum', $('#tagnum').val());
        ccbe_entry.append('ccbe_tagnumold', '{{tag_no|safe}}');
        ccbe_entry.append('ccbe_dateofbirth', $('#dateofbirth').val());
        ccbe_entry.append('ccbe_sirename', $('#sirename').val());
        ccbe_entry.append('ccbe_damname', $('#damname').val());
        ccbe_entry.append('ccbe_nameofcomp1', $('#nameofcomp1').val());
        ccbe_entry.append('ccbe_quantity1', $('#quuantity1').val());
        ccbe_entry.append('ccbe_nameofcomp2', $('#nameofcomp2').val());
        ccbe_entry.append('ccbe_quantity2', $('#quuantity2').val());
        ccbe_entry.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        $.ajax({
            url: '',
            type: 'post',
            data: ccbe_entry,
            processData: false,
            contentType: false,
            success: function (data) {
                window.location.href=`{%  url 'cowandcowbuffaloprofile' %}?tag_no=${data.tag_no}`
            },
            error: function (status) {
                if(status.status == 500){
                    alert("Tag number is existing");
                }
                else {
                    alert('Fill all data');
                }
            },
        });
    }
    function deleteme(){
        var ccbd_entry = new FormData();
        ccbd_entry.append('cedit_data_from', 'delete');
        ccbd_entry.append('ccbd_tagnum', '{{ tag_no|safe }}');
        ccbd_entry.append("csrfmiddlewaretoken", "{{ csrf_token }}");
        $.ajax({
            url: '',
            type: 'post',
            data: ccbd_entry,
            processData: false,
            contentType: false,
            success: function (data) {
                alert('details deleted');
                window.location.href=`{%  url 'home' %}`
            },
        });
    }
    </script>

</body>
</html>